<!DOCTYPE HTML>
<head>
<script src="https://d3js.org/d3.v5.min.js"></script>
<style type="text/css">
	.axis path,
	.axis line {
			fill: none;
			stroke: black;
			shape-rendering: crispEdges;
	}

	.axis text {
			font-family: sans-serif;
			font-size: 11px;
	}
</style>
</head><head>

	<body>
		<script type="text/javascript">
		svg=d3.select("body")
		.append("svg")
		.attr("width",2000)
		.attr("height",800);
		var dataset=[4, 11, 22, 17, 2, 25, 16]

		svg.selectAll('abcd')
		.data(dataset)
		.enter()
		.append("rect")
		.attr("x",function(d,i){return (50*i) +50})
		.attr("y",80)
		.attr("width",function(d){return d})
		.attr("height",function(d){return d})
		.attr("fill","black")

		svg.selectAll('abcd')
		.data(dataset)
		.enter()
		.append("rect")
		.attr("x",function(d,i){return (50*i) +50})
		.attr("y",180)
		.attr("width",function(d){return 7*Math.sqrt(d)})
		.attr("height",function(d){return 7*Math.sqrt(d)})
		.attr("fill","black")

		svg.selectAll('abcd')
		.data(dataset)
		.enter()
		.append("rect")
		.attr("x",function(d,i){return (50*i) +50})
		.attr("y",280)
		.attr("width",function(d){return 7*Math.sqrt(d)})
		.attr("height",function(d){return 7*Math.sqrt(d)})
		.attr("fill",function(d){
								if (d>15){return "green"}else{return "red"}})
		var rnddata=[];
		for(i=0;i<10;i++)
			{
				rnddata[i]=Math.floor((Math.random() * 25) + 1)
			}
		
		svg.selectAll('abcd')
		.data(rnddata)
		.enter()
		.append("rect")
		.attr("x",function(rnddata,i){return (50*i) +50})
		.attr("y",380)
		.attr("width",function(rnddata){return rnddata})
		.attr("height",function(rnddata){return rnddata})
		.attr("fill",function(rnddata){
								if (rnddata>15){return "green"}else{return "red"}})


								var margin = {top: 10, right: 10, bottom: 25, left: 80};


				 			 var outer_width = 600;
				 			 var outer_height = 300;
				 			 var svg_width = outer_width - margin.left - margin.right;
				 			 var svg_height = outer_height - margin.top - margin.bottom;
				 			 var svg2 = d3.select("body")
				 						 .append("svg")
				 						 .attr("width", svg_width + margin.left + margin.right)
				 						 .attr("height", svg_height + margin.top + margin.bottom)
				 						 .append("g")
				 						 .attr("transform", "translate(" + margin.left + "," + margin.top + ")");


		function generateVis()
		{
			var gap=30;

		svg.selectAll('abceeeed')
		.data(dataset2)
		.enter()
		.append("rect")
		.attr("x",50)
		.attr("y",function(d,i){return 430+(gap*i)})
		.attr("width",function(d){
			return (d.Population/3000000)})
		.attr("height",function(d){return 15})
		.attr("fill","blue")



		svg.selectAll("abcd")
	   .data(dataset2)
	   .enter()
		   .append("text")
		   .text(function(d) {
		   		return d.Country;
		   })
		    .attr("text-anchor", "start")
		   .attr("x", 50)
		   .attr("y", function(d,i) {return 442+(gap*i);})
		   .attr("font-family", "sans-serif")
		   .attr("font-size", "11px")
		   .attr("fill", "white");

			 var yScale = d3.scaleLinear()
		 				           .domain([0, 1300000000])
		 				           .range([0,svg_width]);
			 var xScale = d3.scaleBand()
											.domain(dataset2.map(function(d) { return d.Country; }))
											.range([0,svg_height])
											.padding(0.2);

			var xAxis = d3.axisLeft()
									 .scale(xScale)


				var yAxis = d3.axisBottom()
											.scale(yScale)
											.ticks(3);



											 svg2.append("g")
												 .attr("class", "axis")
												 .call(xAxis);


											 svg2.append("g")
												 .attr("class", "axis")
												 .attr("transform","translate(0,"+svg_height+")")
												 .call(yAxis);

												 svg2.selectAll("rect")
													 .data(dataset2)
													 .enter()
														 .append("rect")
														 .attr("x", function(d) {
															return 0;

														 })
														 .attr("y", function(d) {
															return xScale(d.Country);
														 })
														 .attr("width", function(d) {
																return yScale(+d.Population);
														 })
														 .attr("height", xScale.bandwidth())
														 .attr("fill", "Blue");



		}
		var dataset2;
		d3.csv("Top10WorldPopulations.csv")
		  .then(function(data) {

		      	  dataset2 = data;
				  generateVis();
				});


		</script>
			</body>
